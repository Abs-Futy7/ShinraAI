@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground: #111311;
  --background: #F9F9F7;
}

body {
  color: var(--foreground);
  background: var(--background);
  /* Smooth scrolling for the whole page */
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Custom Editorial Prose Styles */
.prose h1 { @apply font-serif text-4xl font-light text-primary-900 mb-6 mt-8 tracking-tight; }
.prose h2 { @apply font-serif text-2xl font-light text-primary-800 mb-4 mt-8; }
.prose h3 { @apply font-sans text-lg font-bold uppercase tracking-widest text-primary-600 mb-3 mt-6; }
.prose p  { @apply font-sans text-base leading-7 text-gray-700 mb-5; }
.prose ul { @apply list-disc pl-6 mb-5 marker:text-primary-400; }
.prose ol { @apply list-decimal pl-6 mb-5 marker:text-primary-400; }
.prose li { @apply mb-2 pl-2; }
.prose blockquote { @apply border-l-2 border-primary-500 pl-6 italic font-serif text-xl text-primary-700 my-8 bg-sage-50 py-4 pr-4 rounded-r-lg; }
.prose code { @apply bg-sage-100/50 text-primary-800 rounded px-1.5 py-0.5 text-sm font-medium border border-sage-200; }
.prose pre { @apply bg-primary-900 text-sage-50 rounded-xl p-6 overflow-x-auto mb-8 shadow-lg; }
.prose a { @apply text-primary-600 underline decoration-primary-300 underline-offset-4 hover:decoration-primary-600 transition-all; }

/* DarkVeil background component */
.dark-veil-root {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  filter: hue-rotate(var(--dv-hue-shift));
  transform: scale(var(--dv-resolution));
  transform-origin: center center;
  background: radial-gradient(120% 120% at 50% 10%, #0f172a 0%, #020617 48%, #000000 100%);
}

.dark-veil-root .dv-layer {
  position: absolute;
  inset: -20%;
  pointer-events: none;
}

.dark-veil-root .dv-base {
  background:
    radial-gradient(70% 60% at 20% 20%, rgba(16, 185, 129, 0.35) 0%, rgba(16, 185, 129, 0) 70%),
    radial-gradient(65% 60% at 80% 30%, rgba(20, 184, 166, 0.28) 0%, rgba(20, 184, 166, 0) 75%),
    radial-gradient(60% 60% at 50% 80%, rgba(59, 130, 246, 0.22) 0%, rgba(59, 130, 246, 0) 80%);
  animation: dvDrift var(--dv-drift-duration) linear infinite;
}

.dark-veil-root .dv-glow {
  background:
    radial-gradient(50% 40% at 50% 50%, rgba(45, 212, 191, 0.12), rgba(45, 212, 191, 0)),
    radial-gradient(55% 45% at 60% 30%, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0));
  filter: blur(calc(20px + var(--dv-warp)));
  animation: dvPulse var(--dv-pulse-duration) ease-in-out infinite alternate;
}

.dark-veil-root .dv-noise {
  opacity: var(--dv-noise-opacity);
  background-image:
    radial-gradient(rgba(255, 255, 255, 0.5) 0.45px, transparent 0.45px),
    radial-gradient(rgba(255, 255, 255, 0.4) 0.45px, transparent 0.45px);
  background-size: 3px 3px, 4px 4px;
  background-position: 0 0, 2px 2px;
  mix-blend-mode: soft-light;
  animation: dvNoiseShift 0.9s steps(2) infinite;
}

.dark-veil-root .dv-scanlines {
  opacity: var(--dv-scanline-opacity);
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.06),
    rgba(255, 255, 255, 0.06) 1px,
    transparent 1px,
    transparent var(--dv-scanline-size)
  );
}

@keyframes dvDrift {
  0% {
    transform: translate3d(-1%, 0%, 0) scale(1);
  }
  50% {
    transform: translate3d(1.5%, -1%, 0) scale(1.03);
  }
  100% {
    transform: translate3d(-1%, 0%, 0) scale(1);
  }
}

@keyframes dvPulse {
  0% {
    transform: scale(1) translateY(0);
    opacity: 0.8;
  }
  100% {
    transform: scale(1.06) translateY(-1%);
    opacity: 1;
  }
}

@keyframes dvNoiseShift {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(1px, 1px);
  }
}
